"use strict";(self.webpackChunkxpert_ai=self.webpackChunkxpert_ai||[]).push([[713],{"./node_modules/@angular/cdk/fesm2022/menu.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{iw:()=>CdkMenuModule});var core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),overlay=__webpack_require__("./node_modules/@angular/cdk/fesm2022/overlay.mjs"),keycodes=__webpack_require__("./node_modules/@angular/cdk/fesm2022/keycodes.mjs"),startWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),debounceTime=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),takeUntil=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js"),mergeMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js"),mapTo=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mapTo.js"),mergeAll=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeAll.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),lift=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),OperatorSubscriber=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js");var skip=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/skip.js"),collections=__webpack_require__("./node_modules/@angular/cdk/fesm2022/collections.mjs"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),merge=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/merge.js"),fromEvent=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js"),defer=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/defer.js");function not(pred,thisArg){return function(value,index){return!pred.call(thisArg,value,index)}}var innerFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");var portal=__webpack_require__("./node_modules/@angular/cdk/fesm2022/portal.mjs"),a11y=__webpack_require__("./node_modules/@angular/cdk/fesm2022/a11y.mjs"),bidi=__webpack_require__("./node_modules/@angular/cdk/fesm2022/bidi.mjs"),platform=__webpack_require__("./node_modules/@angular/cdk/fesm2022/platform.mjs");class CdkMenuGroup{static#_=this.ɵfac=function CdkMenuGroup_Factory(t){return new(t||CdkMenuGroup)};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CdkMenuGroup,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],standalone:!0,features:[core["ɵɵProvidersFeature"]([{provide:collections.zP,useClass:collections.zP}])]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkMenuGroup,[{type:core.Directive,args:[{selector:"[cdkMenuGroup]",exportAs:"cdkMenuGroup",standalone:!0,host:{role:"group",class:"cdk-menu-group"},providers:[{provide:collections.zP,useClass:collections.zP}]}]}],null,null);const CDK_MENU=new core.InjectionToken("cdk-menu");var FocusNext;!function(FocusNext){FocusNext[FocusNext.nextItem=0]="nextItem",FocusNext[FocusNext.previousItem=1]="previousItem",FocusNext[FocusNext.currentItem=2]="currentItem"}(FocusNext||(FocusNext={}));const MENU_STACK=new core.InjectionToken("cdk-menu-stack"),PARENT_OR_NEW_MENU_STACK_PROVIDER={provide:MENU_STACK,deps:[[new core.Optional,new core.SkipSelf,new core.Inject(MENU_STACK)]],useFactory:parentMenuStack=>parentMenuStack||new MenuStack},PARENT_OR_NEW_INLINE_MENU_STACK_PROVIDER=orientation=>({provide:MENU_STACK,deps:[[new core.Optional,new core.SkipSelf,new core.Inject(MENU_STACK)]],useFactory:parentMenuStack=>parentMenuStack||MenuStack.inline(orientation)});let nextId$2=0;class MenuStack{constructor(){this.id=""+nextId$2++,this._elements=[],this._close=new Subject.B,this._empty=new Subject.B,this._hasFocus=new Subject.B,this.closed=this._close,this.hasFocus=this._hasFocus.pipe((0,startWith.Z)(!1),(0,debounceTime.B)(0),(0,distinctUntilChanged.F)()),this.emptied=this._empty,this._inlineMenuOrientation=null}static inline(orientation){const stack=new MenuStack;return stack._inlineMenuOrientation=orientation,stack}push(menu){this._elements.push(menu)}close(lastItem,options){const{focusNextOnEmpty,focusParentTrigger}={...options};if(this._elements.indexOf(lastItem)>=0){let poppedElement;do{poppedElement=this._elements.pop(),this._close.next({item:poppedElement,focusParentTrigger})}while(poppedElement!==lastItem);this.isEmpty()&&this._empty.next(focusNextOnEmpty)}}closeSubMenuOf(lastItem){let removed=!1;if(this._elements.indexOf(lastItem)>=0)for(removed=this.peek()!==lastItem;this.peek()!==lastItem;)this._close.next({item:this._elements.pop()});return removed}closeAll(options){const{focusNextOnEmpty,focusParentTrigger}={...options};if(!this.isEmpty()){for(;!this.isEmpty();){const menuStackItem=this._elements.pop();menuStackItem&&this._close.next({item:menuStackItem,focusParentTrigger})}this._empty.next(focusNextOnEmpty)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return null!=this._inlineMenuOrientation}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(hasFocus){this._hasFocus.next(hasFocus)}static#_=this.ɵfac=function MenuStack_Factory(t){return new(t||MenuStack)};static#_2=this.ɵprov=core["ɵɵdefineInjectable"]({token:MenuStack,factory:MenuStack.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](MenuStack,[{type:core.Injectable}],null,null);const MENU_TRIGGER=new core.InjectionToken("cdk-menu-trigger");class CdkMenuTriggerBase{constructor(){this.injector=(0,core.inject)(core.Injector),this.viewContainerRef=(0,core.inject)(core.ViewContainerRef),this.menuStack=(0,core.inject)(MENU_STACK),this.opened=new core.EventEmitter,this.closed=new core.EventEmitter,this.overlayRef=null,this.destroyed=new Subject.B,this.stopOutsideClicksListener=(0,merge.h)(this.closed,this.destroyed)}ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(child){this.childMenu=child}getMenuContentPortal(){const hasMenuContentChanged=this.menuTemplateRef!==this._menuPortal?.templateRef;return!this.menuTemplateRef||this._menuPortal&&!hasMenuContentChanged||(this._menuPortal=new portal.VA(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(element){for(let el=element;el;el=el?.parentElement??null)if(el.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||core.Injector.create({providers:[{provide:MENU_TRIGGER,useValue:this},{provide:MENU_STACK,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}static#_=this.ɵfac=function CdkMenuTriggerBase_Factory(t){return new(t||CdkMenuTriggerBase)};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CdkMenuTriggerBase,hostVars:2,hostBindings:function CdkMenuTriggerBase_HostBindings(rf,ctx){2&rf&&core["ɵɵattribute"]("aria-controls",null==ctx.childMenu?null:ctx.childMenu.id)("data-cdk-menu-stack-id",ctx.menuStack.id)},standalone:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkMenuTriggerBase,[{type:core.Directive,args:[{host:{"[attr.aria-controls]":"childMenu?.id","[attr.data-cdk-menu-stack-id]":"menuStack.id"},standalone:!0}]}],null,null);const MENU_AIM=new core.InjectionToken("cdk-menu-aim");function getYIntercept(point,slope){return point.y-slope*point.x}function isWithinSubmenu(submenuPoints,m,b){const{left,right,top,bottom}=submenuPoints;return m*left+b>=top&&m*left+b<=bottom||m*right+b>=top&&m*right+b<=bottom||(top-b)/m>=left&&(top-b)/m<=right||(bottom-b)/m>=left&&(bottom-b)/m<=right}class TargetMenuAim{constructor(){this._ngZone=(0,core.inject)(core.NgZone),this._points=[],this._destroyed=new Subject.B}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}initialize(menu,pointerTracker){this._menu=menu,this._pointerTracker=pointerTracker,this._subscribeToMouseMoves()}toggle(doToggle){"horizontal"===this._menu.orientation&&doToggle(),this._checkConfigured();const siblingItemIsWaiting=!!this._timeoutId;this._points.length>1&&!siblingItemIsWaiting?this._isMovingToSubmenu()?this._startTimeout(doToggle):doToggle():siblingItemIsWaiting||doToggle()}_startTimeout(doToggle){const timeoutId=setTimeout((()=>{this._pointerTracker.activeElement&&timeoutId===this._timeoutId&&doToggle(),this._timeoutId=null}),300);this._timeoutId=timeoutId}_isMovingToSubmenu(){const submenuPoints=this._getSubmenuBounds();if(!submenuPoints)return!1;let numMoving=0;const currPoint=this._points[this._points.length-1];for(let i=this._points.length-2;i>=0;i--){const previous=this._points[i],slope=(a=currPoint,((b=previous).y-a.y)/(b.x-a.x));isWithinSubmenu(submenuPoints,slope,getYIntercept(currPoint,slope))&&numMoving++}var a,b;return numMoving>=Math.floor(2.5)}_getSubmenuBounds(){return this._pointerTracker?.previousElement?.getMenu()?.nativeElement.getBoundingClientRect()}_checkConfigured(){("undefined"==typeof ngDevMode||ngDevMode)&&(this._pointerTracker||function throwMissingPointerFocusTracker(){throw Error("expected an instance of PointerFocusTracker to be provided")}(),this._menu||function throwMissingMenuReference(){throw Error("expected a reference to the parent menu")}())}_subscribeToMouseMoves(){this._ngZone.runOutsideAngular((()=>{(0,fromEvent.R)(this._menu.nativeElement,"mousemove").pipe((0,filter.p)(((_,index)=>index%3==0)),(0,takeUntil.Q)(this._destroyed)).subscribe((event=>{this._points.push({x:event.clientX,y:event.clientY}),this._points.length>5&&this._points.shift()}))}))}static#_=this.ɵfac=function TargetMenuAim_Factory(t){return new(t||TargetMenuAim)};static#_2=this.ɵprov=core["ɵɵdefineInjectable"]({token:TargetMenuAim,factory:TargetMenuAim.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TargetMenuAim,[{type:core.Injectable}],null,null);class CdkTargetMenuAim{static#_=this.ɵfac=function CdkTargetMenuAim_Factory(t){return new(t||CdkTargetMenuAim)};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CdkTargetMenuAim,selectors:[["","cdkTargetMenuAim",""]],exportAs:["cdkTargetMenuAim"],standalone:!0,features:[core["ɵɵProvidersFeature"]([{provide:MENU_AIM,useClass:TargetMenuAim}])]})}function eventDispatchesNativeClick(elementRef,event){if(!event.isTrusted)return!1;const el=elementRef.nativeElement,keyCode=event.keyCode;return"BUTTON"!==el.nodeName||el.disabled?"A"===el.nodeName&&keyCode===keycodes.Fm:keyCode===keycodes.Fm||keyCode===keycodes.t6}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkTargetMenuAim,[{type:core.Directive,args:[{selector:"[cdkTargetMenuAim]",exportAs:"cdkTargetMenuAim",standalone:!0,providers:[{provide:MENU_AIM,useClass:TargetMenuAim}]}]}],null,null);class CdkMenuTrigger extends CdkMenuTriggerBase{constructor(){super(),this._elementRef=(0,core.inject)(core.ElementRef),this._overlay=(0,core.inject)(overlay.hJ),this._ngZone=(0,core.inject)(core.NgZone),this._changeDetectorRef=(0,core.inject)(core.ChangeDetectorRef),this._inputModalityDetector=(0,core.inject)(a11y.Uc),this._directionality=(0,core.inject)(bidi.dS,{optional:!0}),this._parentMenu=(0,core.inject)(CDK_MENU,{optional:!0}),this._menuAim=(0,core.inject)(MENU_AIM,{optional:!0}),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){this.isOpen()||null==this.menuTemplateRef||(this.opened.next(),this.overlayRef=this.overlayRef||this._overlay.create(this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._changeDetectorRef.markForCheck(),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach(),this._changeDetectorRef.markForCheck()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}_toggleOnKeydown(event){const isParentVertical="vertical"===this._parentMenu?.orientation;switch(event.keyCode){case keycodes.t6:case keycodes.Fm:(0,keycodes.rp)(event)||eventDispatchesNativeClick(this._elementRef,event)||(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case keycodes.LE:(0,keycodes.rp)(event)||this._parentMenu&&isParentVertical&&"rtl"!==this._directionality?.value&&(event.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case keycodes.UQ:(0,keycodes.rp)(event)||this._parentMenu&&isParentVertical&&"rtl"===this._directionality?.value&&(event.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case keycodes.n6:case keycodes.i7:(0,keycodes.rp)(event)||isParentVertical||(event.preventDefault(),this.open(),event.keyCode===keycodes.n6?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"))}}_handleClick(){this.toggle(),this.childMenu?.focusFirstItem("mouse")}_setHasFocus(hasFocus){this._parentMenu||this.menuStack.setHasFocus(hasFocus)}_subscribeToMouseEnter(){this._ngZone.runOutsideAngular((()=>{(0,fromEvent.R)(this._elementRef.nativeElement,"mouseenter").pipe((0,filter.p)((()=>"touch"!==this._inputModalityDetector.mostRecentModality&&!this.menuStack.isEmpty()&&!this.isOpen())),(0,takeUntil.Q)(this.destroyed)).subscribe((()=>{const toggleMenus=()=>this._ngZone.run((()=>{this._closeSiblingTriggers(),this.open()}));this._menuAim?this._menuAim.toggle(toggleMenus):toggleMenus()}))}))}_closeSiblingTriggers(){if(this._parentMenu){!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll()}else this.menuStack.closeAll()}_getOverlayConfig(){return new overlay.rR({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withGrowAfterOpen().withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(this._parentMenu&&"horizontal"!==this._parentMenu.orientation?overlay.EB:overlay.pq)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe((0,takeUntil.Q)(this.destroyed)).subscribe((({item})=>{item===this.childMenu&&this.close()}))}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe((0,takeUntil.Q)(this.stopOutsideClicksListener)).subscribe((event=>{const target=(0,platform.Fb)(event),element=this._elementRef.nativeElement;target===element||element.contains(target)||(this.isElementInsideMenuStack(target)?this._closeSiblingTriggers():this.menuStack.closeAll())}))}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe((0,takeUntil.Q)(this.destroyed)).subscribe((hasFocus=>{hasFocus||this.menuStack.closeAll()}))}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe((({focusParentTrigger})=>{focusParentTrigger&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()}))}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){const element=this._elementRef.nativeElement;"BUTTON"!==element.nodeName||element.getAttribute("type")||element.setAttribute("type","button")}static#_=this.ɵfac=function CdkMenuTrigger_Factory(t){return new(t||CdkMenuTrigger)};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CdkMenuTrigger,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:[1,"cdk-menu-trigger"],hostVars:2,hostBindings:function CdkMenuTrigger_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("focusin",(function CdkMenuTrigger_focusin_HostBindingHandler(){return ctx._setHasFocus(!0)}))("focusout",(function CdkMenuTrigger_focusout_HostBindingHandler(){return ctx._setHasFocus(!1)}))("keydown",(function CdkMenuTrigger_keydown_HostBindingHandler($event){return ctx._toggleOnKeydown($event)}))("click",(function CdkMenuTrigger_click_HostBindingHandler(){return ctx._handleClick()})),2&rf&&core["ɵɵattribute"]("aria-haspopup",ctx.menuTemplateRef?"menu":null)("aria-expanded",null==ctx.menuTemplateRef?null:ctx.isOpen())},inputs:{menuTemplateRef:[core["ɵɵInputFlags"].None,"cdkMenuTriggerFor","menuTemplateRef"],menuPosition:[core["ɵɵInputFlags"].None,"cdkMenuPosition","menuPosition"],menuData:[core["ɵɵInputFlags"].None,"cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],standalone:!0,features:[core["ɵɵProvidersFeature"]([{provide:MENU_TRIGGER,useExisting:CdkMenuTrigger},PARENT_OR_NEW_MENU_STACK_PROVIDER]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkMenuTrigger,[{type:core.Directive,args:[{selector:"[cdkMenuTriggerFor]",exportAs:"cdkMenuTriggerFor",standalone:!0,host:{class:"cdk-menu-trigger","[attr.aria-haspopup]":'menuTemplateRef ? "menu" : null',"[attr.aria-expanded]":"menuTemplateRef == null ? null : isOpen()","(focusin)":"_setHasFocus(true)","(focusout)":"_setHasFocus(false)","(keydown)":"_toggleOnKeydown($event)","(click)":"_handleClick()"},inputs:[{name:"menuTemplateRef",alias:"cdkMenuTriggerFor"},{name:"menuPosition",alias:"cdkMenuPosition"},{name:"menuData",alias:"cdkMenuTriggerData"}],outputs:["opened: cdkMenuOpened","closed: cdkMenuClosed"],providers:[{provide:MENU_TRIGGER,useExisting:CdkMenuTrigger},PARENT_OR_NEW_MENU_STACK_PROVIDER]}]}],(()=>[]),null);class CdkMenuItem{get hasMenu(){return null!=this._menuTrigger?.menuTemplateRef}constructor(){this._dir=(0,core.inject)(bidi.dS,{optional:!0}),this._elementRef=(0,core.inject)(core.ElementRef),this._ngZone=(0,core.inject)(core.NgZone),this._inputModalityDetector=(0,core.inject)(a11y.Uc),this._menuAim=(0,core.inject)(MENU_AIM,{optional:!0}),this._menuStack=(0,core.inject)(MENU_STACK),this._parentMenu=(0,core.inject)(CDK_MENU,{optional:!0}),this._menuTrigger=(0,core.inject)(CdkMenuTrigger,{optional:!0,self:!0}),this.disabled=!1,this.triggered=new core.EventEmitter,this._tabindex=-1,this.closeOnSpacebarTrigger=!0,this.destroyed=new Subject.B,this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(options){const{keepOpen}={...options};this.disabled||this.hasMenu||(this.triggered.next(),keepOpen||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(event){this.disabled||event&&this._menuStack.isEmpty()||(this._tabindex=0)}_onKeydown(event){switch(event.keyCode){case keycodes.t6:case keycodes.Fm:(0,keycodes.rp)(event)||eventDispatchesNativeClick(this._elementRef,event)||this.trigger({keepOpen:event.keyCode===keycodes.t6&&!this.closeOnSpacebarTrigger});break;case keycodes.LE:(0,keycodes.rp)(event)||this._parentMenu&&this._isParentVertical()&&("rtl"!==this._dir?.value?this._forwardArrowPressed(event):this._backArrowPressed(event));break;case keycodes.UQ:(0,keycodes.rp)(event)||this._parentMenu&&this._isParentVertical()&&("rtl"!==this._dir?.value?this._backArrowPressed(event):this._forwardArrowPressed(event))}}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(event){const parentMenu=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(event.preventDefault(),this._menuStack.close(parentMenu,{focusNextOnEmpty:"horizontal"===this._menuStack.inlineMenuOrientation()?FocusNext.previousItem:FocusNext.currentItem,focusParentTrigger:!0}))}_forwardArrowPressed(event){this.hasMenu||"horizontal"!==this._menuStack.inlineMenuOrientation()||(event.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:FocusNext.nextItem,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){const closeOpenSiblings=()=>this._ngZone.run((()=>this._menuStack.closeSubMenuOf(this._parentMenu)));this._ngZone.runOutsideAngular((()=>(0,fromEvent.R)(this._elementRef.nativeElement,"mouseenter").pipe((0,filter.p)((()=>"touch"!==this._inputModalityDetector.mostRecentModality&&!this._menuStack.isEmpty()&&!this.hasMenu)),(0,takeUntil.Q)(this.destroyed)).subscribe((()=>{this._menuAim?this._menuAim.toggle(closeOpenSiblings):closeOpenSiblings()}))))}}_isParentVertical(){return"vertical"===this._parentMenu?.orientation}_setType(){const element=this._elementRef.nativeElement;"BUTTON"!==element.nodeName||element.getAttribute("type")||element.setAttribute("type","button")}static#_=this.ɵfac=function CdkMenuItem_Factory(t){return new(t||CdkMenuItem)};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CdkMenuItem,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:2,hostBindings:function CdkMenuItem_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("blur",(function CdkMenuItem_blur_HostBindingHandler(){return ctx._resetTabIndex()}))("focus",(function CdkMenuItem_focus_HostBindingHandler(){return ctx._setTabIndex()}))("click",(function CdkMenuItem_click_HostBindingHandler(){return ctx.trigger()}))("keydown",(function CdkMenuItem_keydown_HostBindingHandler($event){return ctx._onKeydown($event)})),2&rf&&(core["ɵɵhostProperty"]("tabindex",ctx._tabindex),core["ɵɵattribute"]("aria-disabled",ctx.disabled||null))},inputs:{disabled:[core["ɵɵInputFlags"].HasDecoratorInputTransform,"cdkMenuItemDisabled","disabled",core.booleanAttribute],typeaheadLabel:[core["ɵɵInputFlags"].None,"cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"],standalone:!0,features:[core["ɵɵInputTransformsFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkMenuItem,[{type:core.Directive,args:[{selector:"[cdkMenuItem]",exportAs:"cdkMenuItem",standalone:!0,host:{role:"menuitem",class:"cdk-menu-item","[tabindex]":"_tabindex","[attr.aria-disabled]":"disabled || null","(blur)":"_resetTabIndex()","(focus)":"_setTabIndex()","(click)":"trigger()","(keydown)":"_onKeydown($event)"}}]}],(()=>[]),{disabled:[{type:core.Input,args:[{alias:"cdkMenuItemDisabled",transform:core.booleanAttribute}]}],typeaheadLabel:[{type:core.Input,args:["cdkMenuitemTypeaheadLabel"]}],triggered:[{type:core.Output,args:["cdkMenuItemTriggered"]}]});class PointerFocusTracker{constructor(_items){this._items=_items,this.entered=this._getItemPointerEntries(),this.exited=this._getItemPointerExits(),this._destroyed=new Subject.B,this.entered.subscribe((element=>this.activeElement=element)),this.exited.subscribe((()=>{this.previousElement=this.activeElement,this.activeElement=void 0}))}destroy(){this._destroyed.next(),this._destroyed.complete()}_getItemPointerEntries(){return(0,defer.v)((()=>this._items.changes.pipe((0,startWith.Z)(this._items),(0,mergeMap.Z)((list=>list.map((element=>(0,fromEvent.R)(element._elementRef.nativeElement,"mouseenter").pipe((0,mapTo.u)(element),(0,takeUntil.Q)(this._items.changes)))))),(0,mergeAll.U)())))}_getItemPointerExits(){return(0,defer.v)((()=>this._items.changes.pipe((0,startWith.Z)(this._items),(0,mergeMap.Z)((list=>list.map((element=>(0,fromEvent.R)(element._elementRef.nativeElement,"mouseout").pipe((0,mapTo.u)(element),(0,takeUntil.Q)(this._items.changes)))))),(0,mergeAll.U)())))}}let nextId$1=0;class CdkMenuBase extends CdkMenuGroup{constructor(){super(...arguments),this.nativeElement=(0,core.inject)(core.ElementRef).nativeElement,this.ngZone=(0,core.inject)(core.NgZone),this.menuStack=(0,core.inject)(MENU_STACK),this.menuAim=(0,core.inject)(MENU_AIM,{optional:!0,self:!0}),this.dir=(0,core.inject)(bidi.dS,{optional:!0}),this.id="cdk-menu-"+nextId$1++,this.orientation="vertical",this.isInline=!1,this.destroyed=new Subject.B,this._menuStackHasFocus=!1}ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setKeyManager(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(focusOrigin="program"){this.keyManager.setFocusOrigin(focusOrigin),this.keyManager.setFirstItemActive()}focusLastItem(focusOrigin="program"){this.keyManager.setFocusOrigin(focusOrigin),this.keyManager.setLastItemActive()}_getTabIndex(){const tabindexIfInline=this._menuStackHasFocus?-1:0;return this.isInline?tabindexIfInline:null}closeOpenMenu(menu,options){const{focusParentTrigger}={...options},keyManager=this.keyManager,trigger=this.triggerItem;menu===trigger?.getMenuTrigger()?.getMenu()&&(trigger?.getMenuTrigger()?.close(),focusParentTrigger&&(trigger?keyManager.setActiveItem(trigger):keyManager.setFirstItemActive()))}_setKeyManager(){this.keyManager=new a11y.Bu(this.items).withWrap().withTypeAhead().withHomeAndEnd(),"horizontal"===this.orientation?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){const exitCondition=(0,merge.h)(this.items.changes,this.destroyed);this.items.changes.pipe((0,startWith.Z)(this.items),(0,mergeMap.Z)((list=>list.filter((item=>item.hasMenu)).map((item=>item.getMenuTrigger().opened.pipe((0,mapTo.u)(item),(0,takeUntil.Q)(exitCondition)))))),(0,mergeAll.U)(),(0,switchMap.n)((item=>(this.triggerItem=item,item.getMenuTrigger().closed))),(0,takeUntil.Q)(this.destroyed)).subscribe((()=>this.triggerItem=void 0))}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe((0,takeUntil.Q)(this.destroyed)).subscribe((({item,focusParentTrigger})=>this.closeOpenMenu(item,{focusParentTrigger})))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe((0,takeUntil.Q)(this.destroyed)).subscribe((hasFocus=>{this._menuStackHasFocus=hasFocus}))}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular((()=>{this.pointerTracker=new PointerFocusTracker(this.items)})),this.menuAim.initialize(this,this.pointerTracker))}static#_=this.ɵfac=(()=>{let ɵCdkMenuBase_BaseFactory;return function CdkMenuBase_Factory(t){return(ɵCdkMenuBase_BaseFactory||(ɵCdkMenuBase_BaseFactory=core["ɵɵgetInheritedFactory"](CdkMenuBase)))(t||CdkMenuBase)}})();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CdkMenuBase,contentQueries:function CdkMenuBase_ContentQueries(rf,ctx,dirIndex){if(1&rf&&core["ɵɵcontentQuery"](dirIndex,CdkMenuItem,5),2&rf){let _t;core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.items=_t)}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function CdkMenuBase_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("focus",(function CdkMenuBase_focus_HostBindingHandler(){return ctx.focusFirstItem()}))("focusin",(function CdkMenuBase_focusin_HostBindingHandler(){return ctx.menuStack.setHasFocus(!0)}))("focusout",(function CdkMenuBase_focusout_HostBindingHandler(){return ctx.menuStack.setHasFocus(!1)})),2&rf&&(core["ɵɵhostProperty"]("tabindex",ctx._getTabIndex())("id",ctx.id),core["ɵɵattribute"]("aria-orientation",ctx.orientation)("data-cdk-menu-stack-id",ctx.menuStack.id))},inputs:{id:"id"},standalone:!0,features:[core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkMenuBase,[{type:core.Directive,args:[{host:{role:"menu",class:"","[tabindex]":"_getTabIndex()","[id]":"id","[attr.aria-orientation]":"orientation","[attr.data-cdk-menu-stack-id]":"menuStack.id","(focus)":"focusFirstItem()","(focusin)":"menuStack.setHasFocus(true)","(focusout)":"menuStack.setHasFocus(false)"},standalone:!0}]}],null,{id:[{type:core.Input}],items:[{type:core.ContentChildren,args:[CdkMenuItem,{descendants:!0}]}]});class CdkMenu extends CdkMenuBase{constructor(){super(),this._parentTrigger=(0,core.inject)(MENU_TRIGGER,{optional:!0}),this.closed=new core.EventEmitter,this.orientation="vertical",this.isInline=!this._parentTrigger,this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(event){const keyManager=this.keyManager;switch(event.keyCode){case keycodes.UQ:case keycodes.LE:(0,keycodes.rp)(event)||(event.preventDefault(),keyManager.setFocusOrigin("keyboard"),keyManager.onKeydown(event));break;case keycodes._f:(0,keycodes.rp)(event)||(event.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:FocusNext.currentItem,focusParentTrigger:!0}));break;case keycodes.wn:(0,keycodes.rp)(event,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:keyManager.onKeydown(event)}}_toggleMenuFocus(focusNext){const keyManager=this.keyManager;switch(focusNext){case FocusNext.nextItem:keyManager.setFocusOrigin("keyboard"),keyManager.setNextItemActive();break;case FocusNext.previousItem:keyManager.setFocusOrigin("keyboard"),keyManager.setPreviousItemActive();break;case FocusNext.currentItem:keyManager.activeItem&&(keyManager.setFocusOrigin("keyboard"),keyManager.setActiveItem(keyManager.activeItem))}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe((0,takeUntil.Q)(this.destroyed)).subscribe((event=>this._toggleMenuFocus(event)))}static#_=this.ɵfac=function CdkMenu_Factory(t){return new(t||CdkMenu)};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CdkMenu,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function CdkMenu_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("keydown",(function CdkMenu_keydown_HostBindingHandler($event){return ctx._handleKeyEvent($event)})),2&rf&&core["ɵɵclassProp"]("cdk-menu-inline",ctx.isInline)},outputs:{closed:"closed"},exportAs:["cdkMenu"],standalone:!0,features:[core["ɵɵProvidersFeature"]([{provide:CdkMenuGroup,useExisting:CdkMenu},{provide:CDK_MENU,useExisting:CdkMenu},PARENT_OR_NEW_INLINE_MENU_STACK_PROVIDER("vertical")]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkMenu,[{type:core.Directive,args:[{selector:"[cdkMenu]",exportAs:"cdkMenu",standalone:!0,host:{role:"menu",class:"cdk-menu","[class.cdk-menu-inline]":"isInline","(keydown)":"_handleKeyEvent($event)"},providers:[{provide:CdkMenuGroup,useExisting:CdkMenu},{provide:CDK_MENU,useExisting:CdkMenu},PARENT_OR_NEW_INLINE_MENU_STACK_PROVIDER("vertical")]}]}],(()=>[]),{closed:[{type:core.Output}]});class CdkMenuBar extends CdkMenuBase{constructor(){super(...arguments),this.orientation="horizontal",this.isInline=!0}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}_handleKeyEvent(event){const keyManager=this.keyManager;switch(event.keyCode){case keycodes.i7:case keycodes.n6:case keycodes.UQ:case keycodes.LE:if(!(0,keycodes.rp)(event)){if(event.keyCode===keycodes.UQ||event.keyCode===keycodes.LE){event.preventDefault();const prevIsOpen=keyManager.activeItem?.isMenuOpen();keyManager.activeItem?.getMenuTrigger()?.close(),keyManager.setFocusOrigin("keyboard"),keyManager.onKeydown(event),prevIsOpen&&keyManager.activeItem?.getMenuTrigger()?.open()}}break;case keycodes._f:(0,keycodes.rp)(event)||(event.preventDefault(),keyManager.activeItem?.getMenuTrigger()?.close());break;case keycodes.wn:(0,keycodes.rp)(event,"altKey","metaKey","ctrlKey")||keyManager.activeItem?.getMenuTrigger()?.close();break;default:keyManager.onKeydown(event)}}_toggleOpenMenu(focusNext){const keyManager=this.keyManager;switch(focusNext){case FocusNext.nextItem:keyManager.setFocusOrigin("keyboard"),keyManager.setNextItemActive(),keyManager.activeItem?.getMenuTrigger()?.open();break;case FocusNext.previousItem:keyManager.setFocusOrigin("keyboard"),keyManager.setPreviousItemActive(),keyManager.activeItem?.getMenuTrigger()?.open();break;case FocusNext.currentItem:keyManager.activeItem&&(keyManager.setFocusOrigin("keyboard"),keyManager.setActiveItem(keyManager.activeItem))}}_subscribeToMenuStackEmptied(){this.menuStack?.emptied.pipe((0,takeUntil.Q)(this.destroyed)).subscribe((event=>this._toggleOpenMenu(event)))}static#_=this.ɵfac=(()=>{let ɵCdkMenuBar_BaseFactory;return function CdkMenuBar_Factory(t){return(ɵCdkMenuBar_BaseFactory||(ɵCdkMenuBar_BaseFactory=core["ɵɵgetInheritedFactory"](CdkMenuBar)))(t||CdkMenuBar)}})();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CdkMenuBar,selectors:[["","cdkMenuBar",""]],hostAttrs:["role","menubar",1,"cdk-menu-bar"],hostBindings:function CdkMenuBar_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("keydown",(function CdkMenuBar_keydown_HostBindingHandler($event){return ctx._handleKeyEvent($event)}))},exportAs:["cdkMenuBar"],standalone:!0,features:[core["ɵɵProvidersFeature"]([{provide:CdkMenuGroup,useExisting:CdkMenuBar},{provide:CDK_MENU,useExisting:CdkMenuBar},{provide:MENU_STACK,useFactory:()=>MenuStack.inline("horizontal")}]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkMenuBar,[{type:core.Directive,args:[{selector:"[cdkMenuBar]",exportAs:"cdkMenuBar",standalone:!0,host:{role:"menubar",class:"cdk-menu-bar","(keydown)":"_handleKeyEvent($event)"},providers:[{provide:CdkMenuGroup,useExisting:CdkMenuBar},{provide:CDK_MENU,useExisting:CdkMenuBar},{provide:MENU_STACK,useFactory:()=>MenuStack.inline("horizontal")}]}]}],null,null);class CdkMenuItemSelectable extends CdkMenuItem{constructor(){super(...arguments),this.checked=!1,this.closeOnSpacebarTrigger=!1}static#_=this.ɵfac=(()=>{let ɵCdkMenuItemSelectable_BaseFactory;return function CdkMenuItemSelectable_Factory(t){return(ɵCdkMenuItemSelectable_BaseFactory||(ɵCdkMenuItemSelectable_BaseFactory=core["ɵɵgetInheritedFactory"](CdkMenuItemSelectable)))(t||CdkMenuItemSelectable)}})();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CdkMenuItemSelectable,hostVars:2,hostBindings:function CdkMenuItemSelectable_HostBindings(rf,ctx){2&rf&&core["ɵɵattribute"]("aria-checked",!!ctx.checked)("aria-disabled",ctx.disabled||null)},inputs:{checked:[core["ɵɵInputFlags"].HasDecoratorInputTransform,"cdkMenuItemChecked","checked",core.booleanAttribute]},standalone:!0,features:[core["ɵɵInputTransformsFeature"],core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkMenuItemSelectable,[{type:core.Directive,args:[{host:{"[attr.aria-checked]":"!!checked","[attr.aria-disabled]":"disabled || null"},standalone:!0}]}],null,{checked:[{type:core.Input,args:[{alias:"cdkMenuItemChecked",transform:core.booleanAttribute}]}]});let nextId=0;class CdkMenuItemRadio extends CdkMenuItemSelectable{constructor(){super(),this._selectionDispatcher=(0,core.inject)(collections.zP),this._id=""+nextId++,this._registerDispatcherListener()}ngOnDestroy(){super.ngOnDestroy(),this._removeDispatcherListener()}trigger(options){super.trigger(options),this.disabled||this._selectionDispatcher.notify(this._id,"")}_registerDispatcherListener(){this._removeDispatcherListener=this._selectionDispatcher.listen((id=>{this.checked=this._id===id}))}static#_=this.ɵfac=function CdkMenuItemRadio_Factory(t){return new(t||CdkMenuItemRadio)};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CdkMenuItemRadio,selectors:[["","cdkMenuItemRadio",""]],hostAttrs:["role","menuitemradio"],hostVars:2,hostBindings:function CdkMenuItemRadio_HostBindings(rf,ctx){2&rf&&core["ɵɵclassProp"]("cdk-menu-item-radio",!0)},exportAs:["cdkMenuItemRadio"],standalone:!0,features:[core["ɵɵProvidersFeature"]([{provide:CdkMenuItemSelectable,useExisting:CdkMenuItemRadio},{provide:CdkMenuItem,useExisting:CdkMenuItemSelectable}]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkMenuItemRadio,[{type:core.Directive,args:[{selector:"[cdkMenuItemRadio]",exportAs:"cdkMenuItemRadio",standalone:!0,host:{role:"menuitemradio","[class.cdk-menu-item-radio]":"true"},providers:[{provide:CdkMenuItemSelectable,useExisting:CdkMenuItemRadio},{provide:CdkMenuItem,useExisting:CdkMenuItemSelectable}]}]}],(()=>[]),null);class CdkMenuItemCheckbox extends CdkMenuItemSelectable{trigger(options){super.trigger(options),this.disabled||(this.checked=!this.checked)}static#_=this.ɵfac=(()=>{let ɵCdkMenuItemCheckbox_BaseFactory;return function CdkMenuItemCheckbox_Factory(t){return(ɵCdkMenuItemCheckbox_BaseFactory||(ɵCdkMenuItemCheckbox_BaseFactory=core["ɵɵgetInheritedFactory"](CdkMenuItemCheckbox)))(t||CdkMenuItemCheckbox)}})();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CdkMenuItemCheckbox,selectors:[["","cdkMenuItemCheckbox",""]],hostAttrs:["role","menuitemcheckbox"],hostVars:2,hostBindings:function CdkMenuItemCheckbox_HostBindings(rf,ctx){2&rf&&core["ɵɵclassProp"]("cdk-menu-item-checkbox",!0)},exportAs:["cdkMenuItemCheckbox"],standalone:!0,features:[core["ɵɵProvidersFeature"]([{provide:CdkMenuItemSelectable,useExisting:CdkMenuItemCheckbox},{provide:CdkMenuItem,useExisting:CdkMenuItemSelectable}]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkMenuItemCheckbox,[{type:core.Directive,args:[{selector:"[cdkMenuItemCheckbox]",exportAs:"cdkMenuItemCheckbox",standalone:!0,host:{role:"menuitemcheckbox","[class.cdk-menu-item-checkbox]":"true"},providers:[{provide:CdkMenuItemSelectable,useExisting:CdkMenuItemCheckbox},{provide:CdkMenuItem,useExisting:CdkMenuItemSelectable}]}]}],null,null);const CONTEXT_MENU_POSITIONS=overlay.pq.map((position=>{const offsetX="start"===position.overlayX?2:-2,offsetY="top"===position.overlayY?2:-2;return{...position,offsetX,offsetY}}));class ContextMenuTracker{update(trigger){ContextMenuTracker._openContextMenuTrigger!==trigger&&(ContextMenuTracker._openContextMenuTrigger?.close(),ContextMenuTracker._openContextMenuTrigger=trigger)}static#_=this.ɵfac=function ContextMenuTracker_Factory(t){return new(t||ContextMenuTracker)};static#_2=this.ɵprov=core["ɵɵdefineInjectable"]({token:ContextMenuTracker,factory:ContextMenuTracker.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](ContextMenuTracker,[{type:core.Injectable,args:[{providedIn:"root"}]}],null,null);class CdkContextMenuTrigger extends CdkMenuTriggerBase{constructor(){super(),this._overlay=(0,core.inject)(overlay.hJ),this._directionality=(0,core.inject)(bidi.dS,{optional:!0}),this._contextMenuTracker=(0,core.inject)(ContextMenuTracker),this.disabled=!1,this._setMenuStackCloseListener()}open(coordinates){this._open(null,coordinates)}close(){this.menuStack.closeAll()}_openOnContextMenu(event){this.disabled||(event.preventDefault(),event.stopPropagation(),this._contextMenuTracker.update(this),this._open(event,{x:event.clientX,y:event.clientY}),2===event.button?this.childMenu?.focusFirstItem("mouse"):0===event.button?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusFirstItem("program"))}_getOverlayConfig(coordinates){return new overlay.rR({positionStrategy:this._getOverlayPositionStrategy(coordinates),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(coordinates){return this._overlay.position().flexibleConnectedTo(coordinates).withLockedPosition().withGrowAfterOpen().withPositions(this.menuPosition??CONTEXT_MENU_POSITIONS)}_setMenuStackCloseListener(){this.menuStack.closed.pipe((0,takeUntil.Q)(this.destroyed)).subscribe((({item})=>{item===this.childMenu&&this.isOpen()&&(this.closed.next(),this.overlayRef.detach())}))}_subscribeToOutsideClicks(userEvent){if(this.overlayRef){let outsideClicks=this.overlayRef.outsidePointerEvents();if(userEvent){const[auxClicks,nonAuxClicks]=function partition(source,predicate,thisArg){return[(0,filter.p)(predicate,thisArg)((0,innerFrom.Tg)(source)),(0,filter.p)(not(predicate,thisArg))((0,innerFrom.Tg)(source))]}(outsideClicks,(({type})=>"auxclick"===type));outsideClicks=(0,merge.h)(nonAuxClicks.pipe(function skipWhile(predicate){return(0,lift.N)((function(source,subscriber){var taking=!1,index=0;source.subscribe((0,OperatorSubscriber._)(subscriber,(function(value){return(taking||(taking=!predicate(value,index++)))&&subscriber.next(value)})))}))}(((event,index)=>userEvent.ctrlKey&&0===index&&event.ctrlKey))),auxClicks.pipe((0,skip.i)(1)))}outsideClicks.pipe((0,takeUntil.Q)(this.stopOutsideClicksListener)).subscribe((event=>{this.isElementInsideMenuStack((0,platform.Fb)(event))||this.menuStack.closeAll()}))}}_open(userEvent,coordinates){this.disabled||(this.isOpen()?(this.menuStack.closeSubMenuOf(this.childMenu),this.overlayRef.getConfig().positionStrategy.setOrigin(coordinates),this.overlayRef.updatePosition()):(this.opened.next(),this.overlayRef?(this.overlayRef.getConfig().positionStrategy.setOrigin(coordinates),this.overlayRef.updatePosition()):this.overlayRef=this._overlay.create(this._getOverlayConfig(coordinates)),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks(userEvent)))}static#_=this.ɵfac=function CdkContextMenuTrigger_Factory(t){return new(t||CdkContextMenuTrigger)};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CdkContextMenuTrigger,selectors:[["","cdkContextMenuTriggerFor",""]],hostVars:1,hostBindings:function CdkContextMenuTrigger_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("contextmenu",(function CdkContextMenuTrigger_contextmenu_HostBindingHandler($event){return ctx._openOnContextMenu($event)})),2&rf&&core["ɵɵattribute"]("data-cdk-menu-stack-id",null)},inputs:{menuTemplateRef:[core["ɵɵInputFlags"].None,"cdkContextMenuTriggerFor","menuTemplateRef"],menuPosition:[core["ɵɵInputFlags"].None,"cdkContextMenuPosition","menuPosition"],menuData:[core["ɵɵInputFlags"].None,"cdkContextMenuTriggerData","menuData"],disabled:[core["ɵɵInputFlags"].HasDecoratorInputTransform,"cdkContextMenuDisabled","disabled",core.booleanAttribute]},outputs:{opened:"cdkContextMenuOpened",closed:"cdkContextMenuClosed"},exportAs:["cdkContextMenuTriggerFor"],standalone:!0,features:[core["ɵɵProvidersFeature"]([{provide:MENU_TRIGGER,useExisting:CdkContextMenuTrigger},{provide:MENU_STACK,useClass:MenuStack}]),core["ɵɵInputTransformsFeature"],core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkContextMenuTrigger,[{type:core.Directive,args:[{selector:"[cdkContextMenuTriggerFor]",exportAs:"cdkContextMenuTriggerFor",standalone:!0,host:{"[attr.data-cdk-menu-stack-id]":"null","(contextmenu)":"_openOnContextMenu($event)"},inputs:[{name:"menuTemplateRef",alias:"cdkContextMenuTriggerFor"},{name:"menuPosition",alias:"cdkContextMenuPosition"},{name:"menuData",alias:"cdkContextMenuTriggerData"}],outputs:["opened: cdkContextMenuOpened","closed: cdkContextMenuClosed"],providers:[{provide:MENU_TRIGGER,useExisting:CdkContextMenuTrigger},{provide:MENU_STACK,useClass:MenuStack}]}]}],(()=>[]),{disabled:[{type:core.Input,args:[{alias:"cdkContextMenuDisabled",transform:core.booleanAttribute}]}]});const MENU_DIRECTIVES=[CdkMenuBar,CdkMenu,CdkMenuItem,CdkMenuItemRadio,CdkMenuItemCheckbox,CdkMenuTrigger,CdkMenuGroup,CdkContextMenuTrigger,CdkTargetMenuAim];class CdkMenuModule{static#_=this.ɵfac=function CdkMenuModule_Factory(t){return new(t||CdkMenuModule)};static#_2=this.ɵmod=core["ɵɵdefineNgModule"]({type:CdkMenuModule,imports:[overlay.z_,CdkMenuBar,CdkMenu,CdkMenuItem,CdkMenuItemRadio,CdkMenuItemCheckbox,CdkMenuTrigger,CdkMenuGroup,CdkContextMenuTrigger,CdkTargetMenuAim],exports:[CdkMenuBar,CdkMenu,CdkMenuItem,CdkMenuItemRadio,CdkMenuItemCheckbox,CdkMenuTrigger,CdkMenuGroup,CdkContextMenuTrigger,CdkTargetMenuAim]});static#_3=this.ɵinj=core["ɵɵdefineInjector"]({imports:[overlay.z_]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CdkMenuModule,[{type:core.NgModule,args:[{imports:[overlay.z_,...MENU_DIRECTIVES],exports:MENU_DIRECTIVES}]}],null,null)}}]);