(self.webpackChunkxpert_ai=self.webpackChunkxpert_ai||[]).push([[2916],{"./packages/angular/common/display-behaviour/display-behaviour.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,'@charset "UTF-8";\n:host {\n  display: flex;\n  place-content: center space-between;\n  align-items: center;\n  white-space: nowrap;\n}\n:host.ngm-display-behaviour__exclude-selected {\n  text-decoration-line: line-through;\n}\n:host.ngm-display-behaviour__auto:hover .ngm-display-behaviour__option-value {\n  flex: 1;\n}\n:host.ngm-display-behaviour__auto.ngm-display-behaviour__no-label .ngm-display-behaviour__option-text {\n  flex: 0;\n}\n:host.ngm-display-behaviour__auto.ngm-display-behaviour__no-label .ngm-display-behaviour__option-value {\n  flex: 1;\n}\n:host.ngm-display-behaviour__auto .ngm-display-behaviour__option-text {\n  flex: 1;\n}\n:host.ngm-display-behaviour__auto .ngm-display-behaviour__option-value {\n  flex: 0;\n}\n:host.ngm-display-behaviour__idAndDescription .ngm-display-behaviour__option-value {\n  margin-right: 1em;\n}\n:host.ngm-display-behaviour__idAndDescription .ngm-display-behaviour__option-text {\n  font-style: italic;\n  /* 因为有斜体和 hidden,避免字的尾部被隐藏 */\n  padding: 0 0.25em;\n  font-size: 0.85em;\n}\n:host.ngm-display-behaviour__descriptionAndId.ngm-display-behaviour__no-label .ngm-display-behaviour__option-text {\n  flex: 0;\n}\n:host.ngm-display-behaviour__descriptionAndId .ngm-display-behaviour__option-text {\n  flex: 1;\n  margin-right: 1em;\n}\n:host.ngm-display-behaviour__descriptionAndId .ngm-display-behaviour__option-value {\n  flex: 1;\n}\n:host.ngm-display-behaviour__descriptionOnly .ngm-display-behaviour__option-text {\n  flex: 1;\n}\n:host.ngm-display-behaviour__descriptionOnly .ngm-display-behaviour__option-value {\n  flex: 0;\n}\n:host .ngm-display-behaviour__option-text {\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-align: left;\n}\n:host .ngm-display-behaviour__selected.mat-icon {\n  margin-right: 0;\n}\n:host.ngm-display-behaviour__auto .ngm-display-behaviour__option-value, :host.ngm-display-behaviour__descriptionAndId .ngm-display-behaviour__option-value {\n  /* value is displayed smaller as auxiliary information */\n  font-size: 0.85em;\n  opacity: 0.6;\n  font-style: oblique;\n  margin-left: 0.25em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-align: right;\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/common/select/select/select.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  position: relative;\n  display: flex;\n  min-width: 100px;\n  flex-direction: column;\n  align-items: stretch;\n}\n:host.ngm-select-error .mat-mdc-select.ngm-select-element {\n  border-color: var(--mdc-theme-error);\n}\n:host.ngm-select-error .ngm-input-element {\n  border-color: var(--mdc-theme-error);\n}\n\n.mat-mdc-form-field-error {\n  display: inline-flex;\n  color: var(--mat-form-field-error-text-color);\n}\n\n:host::ng-deep .mat-mdc-select-value {\n  padding-right: 5px;\n}\n:host::ng-deep .mat-mdc-select-placeholder {\n  font-style: italic;\n  opacity: 0.5;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./packages/angular/common/display-behaviour/display-behaviour.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>NgmDisplayBehaviourComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var display_behaviour_componentngResource=__webpack_require__("./packages/angular/common/display-behaviour/display-behaviour.component.scss?ngResource"),display_behaviour_componentngResource_default=__webpack_require__.n(display_behaviour_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),negate=__webpack_require__("./node_modules/lodash-es/negate.js"),lodash_es_isNil=__webpack_require__("./node_modules/lodash-es/isNil.js"),isEqual=__webpack_require__("./node_modules/lodash-es/isEqual.js"),isEmpty=__webpack_require__("./node_modules/lodash-es/isEmpty.js"),includes=__webpack_require__("./node_modules/lodash-es/includes.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js");(0,negate.A)(lodash_es_isNil.A),(0,filter.p)((0,negate.A)(lodash_es_isNil.A)),(0,negate.A)(isEqual.A),(0,negate.A)(isEmpty.A);var KEYCODES,KEYS;!function(KEYCODES){KEYCODES[KEYCODES.ENTER=13]="ENTER",KEYCODES[KEYCODES.SPACE=32]="SPACE",KEYCODES[KEYCODES.ESCAPE=27]="ESCAPE",KEYCODES[KEYCODES.LEFT_ARROW=37]="LEFT_ARROW",KEYCODES[KEYCODES.UP_ARROW=38]="UP_ARROW",KEYCODES[KEYCODES.RIGHT_ARROW=39]="RIGHT_ARROW",KEYCODES[KEYCODES.DOWN_ARROW=40]="DOWN_ARROW",KEYCODES[KEYCODES.F2=113]="F2",KEYCODES[KEYCODES.TAB=9]="TAB",KEYCODES[KEYCODES.CTRL=17]="CTRL",KEYCODES[KEYCODES.Z=90]="Z",KEYCODES[KEYCODES.Y=89]="Y",KEYCODES[KEYCODES.X=88]="X",KEYCODES[KEYCODES.BACKSPACE=8]="BACKSPACE",KEYCODES[KEYCODES.DELETE=46]="DELETE",KEYCODES[KEYCODES.INPUT_METHOD=229]="INPUT_METHOD"}(KEYCODES||(KEYCODES={})),function(KEYS){KEYS.ENTER="Enter",KEYS.SPACE=" ",KEYS.SPACE_IE="Spacebar",KEYS.ESCAPE="Escape",KEYS.ESCAPE_IE="Esc",KEYS.LEFT_ARROW="ArrowLeft",KEYS.LEFT_ARROW_IE="Left",KEYS.UP_ARROW="ArrowUp",KEYS.UP_ARROW_IE="Up",KEYS.RIGHT_ARROW="ArrowRight",KEYS.RIGHT_ARROW_IE="Right",KEYS.DOWN_ARROW="ArrowDown",KEYS.DOWN_ARROW_IE="Down",KEYS.F2="F2",KEYS.TAB="Tab",KEYS.SEMICOLON=";",KEYS.HOME="Home",KEYS.END="End"}(KEYS||(KEYS={}));const NAVIGATION_KEYS=new Set(["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","space","spacebar"," "]);new Set("right down arrowright arrowdown".split(" ")),new Set("left up arrowleft arrowup".split(" ")),new Set([...Array.from(NAVIGATION_KEYS),"tab","enter","f2","escape","esc"]);function splitByHighlight(text,highlight){if(highlight&&text){const keywords=Array.isArray(highlight)?highlight:highlight.split(/\s+/g),matchs=String(text).match(new RegExp(`(${keywords.join("|")})`,"ig")),results=String(text).split(new RegExp(`(${keywords.join("|")})`,"i"));if(results?.length>1)return results.map((value=>(0,includes.A)(matchs,value)?{match:!0,value}:{value}))}return[{value:text}]}var src=__webpack_require__("./packages/core/src/index.ts");let NgmDisplayBehaviourComponent=class NgmDisplayBehaviourComponent{constructor(){this.DISPLAY_BEHAVIOUR=src.Y$2,this.option=(0,core.input)({}),this.highlight=(0,core.input)(),this.isDisplayBehaviour=!0,this.value=(0,core.computed)((()=>{const highlight=this.highlight(),option=this.option();return splitByHighlight(option.key??option.value,highlight)})),this.text=(0,core.computed)((()=>{const highlight=this.highlight(),option=this.option();return splitByHighlight(option.caption||option.label,highlight)}))}get isDescriptionAndId(){return this.displayBehaviour===src.Y$2.descriptionAndId}get isIdAndDescription(){return this.displayBehaviour===src.Y$2.idAndDescription}get isDescriptionOnly(){return this.displayBehaviour===src.Y$2.descriptionOnly}get isAuto(){return this.displayBehaviour===src.Y$2.auto||!this.displayBehaviour}get noLabel(){return!(this.option()?.caption||this.option()?.label)}static#_=this.propDecorators={displayBehaviour:[{type:core.Input}],excludeSelected:[{type:core.HostBinding,args:["class.ngm-display-behaviour__exclude-selected"]},{type:core.Input}],option:[{type:core.Input,args:[{isSignal:!0,alias:"option",required:!1,transform:void 0}]}],highlight:[{type:core.Input,args:[{isSignal:!0,alias:"highlight",required:!1,transform:void 0}]}],isDisplayBehaviour:[{type:core.HostBinding,args:["class.ngm-display-behaviour"]}],isDescriptionAndId:[{type:core.HostBinding,args:["class.ngm-display-behaviour__descriptionAndId"]}],isIdAndDescription:[{type:core.HostBinding,args:["class.ngm-display-behaviour__idAndDescription"]}],isDescriptionOnly:[{type:core.HostBinding,args:["class.ngm-display-behaviour__descriptionOnly"]}],isAuto:[{type:core.HostBinding,args:["class.ngm-display-behaviour__auto"]}],noLabel:[{type:core.HostBinding,args:["class.ngm-display-behaviour__no-label"]}]}};NgmDisplayBehaviourComponent=(0,tslib_es6.Cg)([(0,core.Component)({standalone:!0,changeDetection:core.ChangeDetectionStrategy.OnPush,selector:"ngm-display-behaviour",template:'@switch (displayBehaviour) {\n  @case (DISPLAY_BEHAVIOUR.descriptionAndId) {\n    <span class="ngm-display-behaviour__option-text" [title]="option().caption || option().label">\n      <span [ngClass]="item.match ? \'ngm-display-behaviour__highlight\' : \'\'" *ngFor="let item of text()">{{\n        item.value\n      }}</span>\n    </span>\n    <span class="ngm-display-behaviour__option-value" [title]="option().key ?? option().value">\n      <span [ngClass]="item.match ? \'ngm-display-behaviour__highlight\' : \'\'" *ngFor="let item of value()">{{\n        item.value\n      }}</span>\n    </span>\n  }\n  @case(DISPLAY_BEHAVIOUR.descriptionOnly) {\n    <span class="ngm-display-behaviour__option-text" [title]="option().caption || option().label">\n      <span [ngClass]="item.match ? \'ngm-display-behaviour__highlight\' : \'\'" *ngFor="let item of text()">{{\n        item.value\n      }}</span>\n    </span>\n  }\n  @case(DISPLAY_BEHAVIOUR.idOnly) {\n    <span class="ngm-display-behaviour__option-value" [title]="option().key ?? option().value">\n      <span [ngClass]="item.match ? \'ngm-display-behaviour__highlight\' : \'\'" *ngFor="let item of value()">{{\n        item.value\n      }}</span>\n    </span>\n  }\n  @case(DISPLAY_BEHAVIOUR.idAndDescription) {\n    <span class="ngm-display-behaviour__option-value" [title]="option().key ?? option().value">\n      <span [ngClass]="item.match ? \'ngm-display-behaviour__highlight\' : \'\'" *ngFor="let item of value()">{{\n        item.value\n      }}</span>\n    </span>\n    <span class="ngm-display-behaviour__option-text" [title]="option().caption || option().label">\n      <span [ngClass]="item.match ? \'ngm-display-behaviour__highlight\' : \'\'" *ngFor="let item of text()">{{\n        item.value\n      }}</span>\n    </span>\n  }\n  @default {\n    <span class="ngm-display-behaviour__option-text" [title]="option().caption || option().label">\n      <span [ngClass]="item.match ? \'ngm-display-behaviour__highlight\' : \'\'" *ngFor="let item of text()">{{\n        item.value\n      }}</span>\n    </span>\n    <span class="ngm-display-behaviour__option-value" [title]="option().key ?? option().value">\n      <span [ngClass]="item.match ? \'ngm-display-behaviour__highlight\' : \'\'" *ngFor="let item of value()">{{\n        item.value\n      }}</span>\n    </span>\n  }\n}\n\n@if (option().selected) {\n  <mat-icon class="ngm-display-behaviour__selected" color="accent">done</mat-icon>\n}',imports:[common.CommonModule,icon.m_],styles:[display_behaviour_componentngResource_default()]})],NgmDisplayBehaviourComponent)},"./packages/angular/common/input/option-content.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>NgmOptionContent});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let NgmOptionContent=class NgmOptionContent{constructor(template){this.template=template}static#_=this.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef}]};NgmOptionContent=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive)({standalone:!0,selector:"[ngmOptionContent]"}),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Sn)("design:paramtypes",[_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef])],NgmOptionContent)},"./packages/angular/common/select/select/select.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>NgmSelectComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var select_componentngResource=__webpack_require__("./packages/angular/common/select/select/select.component.scss?ngResource"),select_componentngResource_default=__webpack_require__.n(select_componentngResource),collections=__webpack_require__("./node_modules/@angular/cdk/fesm2022/collections.mjs"),scrolling=__webpack_require__("./node_modules/@angular/cdk/fesm2022/scrolling.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs_interop=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),autocomplete=__webpack_require__("./node_modules/@angular/material/fesm2022/autocomplete.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),input=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),fesm2022_select=__webpack_require__("./node_modules/@angular/material/fesm2022/select.mjs"),displayDensity=__webpack_require__("./packages/angular/core/directives/displayDensity.ts"),core_module=__webpack_require__("./packages/angular/core/core.module.ts"),src=__webpack_require__("./packages/core/src/index.ts"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),distinctUntilChanged=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js"),display_behaviour_component=__webpack_require__("./packages/angular/common/display-behaviour/display-behaviour.component.ts"),option_content=__webpack_require__("./packages/angular/common/input/option-content.ts");let NgmSelectComponent=class NgmSelectComponent{constructor(){this.displayBehaviour=(0,core.input)(),this.displayDensity=(0,core.input)(),this.valueKey=(0,core.input)("value"),this.label=(0,core.input)(),this.placeholder=(0,core.input)(),this.searchable=(0,core.input)(!1,{transform:core.booleanAttribute}),this.virtualScroll=(0,core.input)(!1,{transform:core.booleanAttribute}),this.validators=(0,core.input)(),this.multiple=(0,core.input)(!1,{transform:core.booleanAttribute}),this.selectOptions=(0,core.input)(),this.panelWidth=(0,core.input)(null),this.allowInput=(0,core.input)(!1,{transform:core.booleanAttribute}),this._explicitContent=void 0,this.searInput=(0,core.viewChild)("searInput",{read:core.ElementRef}),this.formControl=new fesm2022_forms.MJ(null),this.value=(0,core.signal)(null),this.selection=new collections.CB(!0),this.searchControl=new fesm2022_forms.MJ(null),this.highlight=(0,rxjs_interop.ot)(this.searchControl.valueChanges,{initialValue:""}),this.options$=(0,core.computed)((()=>{const text=this.highlight()?.trim().toLowerCase();if(text){const terms=text.split(" ").filter((t=>!!t));return this.selectOptions()?.filter((option=>{const str=`${option.caption||option.label||""}${option[this.valueKey()]}`;return terms.every((term=>str?.toLowerCase().includes(term)))}))}return this.selectOptions()})),this.selectTrigger=(0,core.computed)((()=>this.selectOptions()?.find((option=>option[this.valueKey()]===this.value())))),this.autoInput=(0,core.signal)(null),this.inputDirty=(0,core.signal)(!1),this.valueSub=this.formControl.valueChanges.pipe((0,filter.p)((()=>!this.multiple())),(0,distinctUntilChanged.F)(),(0,filter.p)((value=>this.value()!==value)),(0,rxjs_interop.pQ)()).subscribe((value=>{this.value.set(value),this.onChange?.(value)})),this.selectionSub=this.selection.changed.pipe((0,filter.p)((()=>this.multiple())),(0,rxjs_interop.pQ)()).subscribe((()=>{this.onChange?.(this.selection.selected)})),(0,core.effect)((()=>{if((0,src.gD_)(this.value()))this.autoInput.set(null);else{const selectedOption=this.selectOptions()?.find((item=>item[this.valueKey()]===this.value()));(0,src.TLi)(selectedOption?.[this.valueKey()])?this.autoInput.set(selectedOption):this.autoInput.set(this.allowInput()?this.value():null)}}),{allowSignalWrites:!0})}writeValue(obj){this.value.set(obj),this.formControl.setValue(obj)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){isDisabled?this.formControl.disable():this.formControl.enable()}trackByValue(index,item){return item?.key}displayWith(option){return option?.caption||option?.label||option?.key||option}onAutoInput(event){"string"==typeof event?this.searchControl.setValue(event):(this.formControl.setValue(event?.[this.valueKey()]),this.searchControl.setValue(null))}onOptionSelected(event){this.inputDirty.set(!1),this.searchControl.setValue(null)}onKeydown(event){this.inputDirty.set(!0)}onBlur(event){if(!this.allowInput())return;const value=event.target.value.trim();this.inputDirty()&&(this.formControl.setValue(value),this.searchControl.setValue(null))}clear(){this.formControl.setValue(null)}get isDisabled(){return this.formControl.disabled}static#_=this.ctorParameters=()=>[];static#_2=this.propDecorators={displayBehaviour:[{type:core.Input,args:[{isSignal:!0,alias:"displayBehaviour",required:!1,transform:void 0}]}],displayDensity:[{type:core.Input,args:[{isSignal:!0,alias:"displayDensity",required:!1,transform:void 0}]}],valueKey:[{type:core.Input,args:[{isSignal:!0,alias:"valueKey",required:!1,transform:void 0}]}],label:[{type:core.Input,args:[{isSignal:!0,alias:"label",required:!1,transform:void 0}]}],placeholder:[{type:core.Input,args:[{isSignal:!0,alias:"placeholder",required:!1,transform:void 0}]}],searchable:[{type:core.Input,args:[{isSignal:!0,alias:"searchable",required:!1,transform:void 0}]}],virtualScroll:[{type:core.Input,args:[{isSignal:!0,alias:"virtualScroll",required:!1,transform:void 0}]}],validators:[{type:core.Input,args:[{isSignal:!0,alias:"validators",required:!1,transform:void 0}]}],multiple:[{type:core.Input,args:[{isSignal:!0,alias:"multiple",required:!1,transform:void 0}]}],selectOptions:[{type:core.Input,args:[{isSignal:!0,alias:"selectOptions",required:!1,transform:void 0}]}],panelWidth:[{type:core.Input,args:[{isSignal:!0,alias:"panelWidth",required:!1,transform:void 0}]}],allowInput:[{type:core.Input,args:[{isSignal:!0,alias:"allowInput",required:!1,transform:void 0}]}],_explicitContent:[{type:core.ContentChild,args:[option_content.r,{read:core.TemplateRef,static:!0}]}],searInput:[{type:core.ViewChild,args:["searInput",{read:core.ElementRef,isSignal:!0}]}],isDisabled:[{type:core.HostBinding,args:["attr.disabled"]}]}};NgmSelectComponent=(0,tslib_es6.Cg)([(0,core.Component)({standalone:!0,selector:"ngm-select",template:'@if (label()) {\n  <label class="ngm-select-label shrink-0" [title]="label()">\n    {{label()}}\n  </label>\n}\n\n@if (!searchable()) {\n  <div class="relative">\n    <mat-select class="ngm-select-element relative" [panelClass]="\'ngm-select-panel \' + (displayDensity() === \'compact\' ? \'ngm-density__compact\' : \'\') + \' \' + (displayDensity() === \'cosy\' ? \'ngm-density__cosy\' : \'\')"\n      [attr.disabled]="isDisabled"\n      [formControl]="formControl"\n      [placeholder]="placeholder()"\n      [panelWidth]="panelWidth() || \'auto\'"\n      [multiple]="multiple()"\n    >\n      <mat-select-trigger *ngIf="selectTrigger()" class="flex items-center overflow-hidden">\n        <span class="flex-1">\n          {{selectTrigger().caption || selectTrigger().label || selectTrigger()[valueKey()] || placeholder}}\n        </span>\n      </mat-select-trigger>\n      @for (option of selectOptions(); track option[valueKey()]) {\n        <mat-option [value]="option[valueKey()]">\n          <ng-container *ngTemplateOutlet="optionTemplate; context: {$implicit: option}"></ng-container>\n        </mat-option>\n      }\n    </mat-select>\n\n    <div class="absolute right-6 top-0 h-full flex items-center">\n      <ng-container *ngTemplateOutlet="suffixTemplate"></ng-container>\n    </div>\n  </div>\n} @else {\n  <div class="relative">\n    <input class="ngm-input-element w-full relative"\n      #searInput type="text"\n      [placeholder]="placeholder()"\n      matInput\n      [matAutocomplete]="auto"\n      [ngModel]="autoInput()"\n      (ngModelChange)="onAutoInput($event)"\n      (blur)="onBlur($event)"\n      (keydown)="onKeydown($event)"\n    />\n  \n    <div class="absolute right-0 top-0 h-full flex items-center mr-1">\n      <ng-container *ngTemplateOutlet="suffixTemplate"></ng-container>\n      @if (value()) {\n        <button type="button" class="ngm-input-element__clear w-8 h-8 flex justify-center items-center rounded-lg border border-transparent text-center text-sm transition-all active:scale-95\n          disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none opacity-30 hover:opacity-100\n          hover:bg-white focus:bg-neutral-50 active:bg-neutral-50 dark:hover:bg-neutral-600 dark:focus:bg-neutral-700 dark:active:bg-neutral-700"\n          (click)="clear()">\n          <i class="material-icons">close</i>\n        </button>\n      }\n    </div>\n  </div>\n}\n\n<mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" class="ngm-select__autocomplete-panel ngm-autocomplete-panel"\n  [class]="(displayDensity() === \'compact\' ? \'ngm-density__compact\' : \'\') + \' \' + (displayDensity() === \'cosy\' ? \'ngm-density__cosy\' : \'\')"\n  [panelWidth]="panelWidth() || null"\n  [displayWith]="displayWith"\n  (optionSelected)="onOptionSelected($event)"\n>\n  @if (virtualScroll()) {\n    <cdk-virtual-scroll-viewport class="nx-formly__virtual-scroll-viewport" minBufferPx="200" maxBufferPx="400"\n      [style.height.px]="240" [itemSize]="30"\n    >\n      <mat-option *cdkVirtualFor="let option of options$(); trackBy: trackByValue" [value]="option">\n        <ng-container *ngTemplateOutlet="optionTemplate; context: {$implicit: option}"></ng-container>\n      </mat-option>\n    </cdk-virtual-scroll-viewport>\n  } @else {\n    @for (option of options$(); track option.key) {\n      <mat-option [value]="option" class="text-sm">\n        <ng-container *ngTemplateOutlet="optionTemplate; context: {$implicit: option}"></ng-container>\n      </mat-option>\n    }\n  }\n</mat-autocomplete>\n\n<mat-error class="text-xs h-4">\n  @if (formControl.invalid) {\n    <span>{{formControl.getError(\'error\')}}</span>\n  }\n  <ng-content select="[ngmError]"></ng-content>\n</mat-error>\n\n<ng-template #optionTemplate let-option>\n  <ng-template [ngIf]="_explicitContent" [ngIfElse]="optionTextLabel">\n    <ng-container *ngTemplateOutlet="_explicitContent; context: {$implicit: option, value: option.value, caption: option.caption, key: option.key, highlight: highlight()}"></ng-container>\n  </ng-template>\n  <ng-template #optionTextLabel>\n    @if (option.icon) {\n      <mat-icon [fontSet]="option.fontSet">{{option.icon}}</mat-icon>\n    }\n    <ngm-display-behaviour class="flex-1 overflow-hidden" [displayBehaviour]="displayBehaviour()"\n      [option]="option"\n      [highlight]="highlight()"\n    />\n  </ng-template>\n</ng-template>\n\n<ng-template #suffixTemplate>\n  <ng-content select="[ngmSuffix]"></ng-content>\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,host:{class:"ngm-select","[attr.disabled]":"isDisabled || null"},hostDirectives:[{directive:displayDensity.WG,inputs:["small","large"]}],providers:[{provide:fesm2022_forms.kq,multi:!0,useExisting:(0,core.forwardRef)((()=>NgmSelectComponent))}],imports:[common.CommonModule,fesm2022_forms.YN,fesm2022_forms.X1,fesm2022_select.Ve,autocomplete.jL,input.fS,icon.m_,scrolling.E9,core_module.T,display_behaviour_component.r,option_content.r],styles:[select_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[])],NgmSelectComponent)},"./packages/angular/core/core.module.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>OcapCoreModule,s:()=>provideOcapCore});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_core_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/angular/core/core.service.ts"),_directives__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/angular/core/directives/displayDensity.ts"),_directives__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/angular/core/directives/appearance.ts"),_directives__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/angular/core/directives/button-group.directive.ts"),_services__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/angular/core/services/core.service.ts");let OcapCoreModule=class OcapCoreModule{};function provideOcapCore(){return[_core_service__WEBPACK_IMPORTED_MODULE_5__.g,_services__WEBPACK_IMPORTED_MODULE_6__.s]}OcapCoreModule=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({imports:[_directives__WEBPACK_IMPORTED_MODULE_2__.sP,_directives__WEBPACK_IMPORTED_MODULE_3__.A,_directives__WEBPACK_IMPORTED_MODULE_4__.R],exports:[_directives__WEBPACK_IMPORTED_MODULE_2__.sP,_directives__WEBPACK_IMPORTED_MODULE_3__.A,_directives__WEBPACK_IMPORTED_MODULE_4__.R],declarations:[],providers:[]})],OcapCoreModule)},"./packages/angular/core/core.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>NgmDSCoreService});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),src=__webpack_require__("./packages/core/src/index.ts"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),merge=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/merge.js"),empty=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/empty.js"),types=__webpack_require__("./packages/angular/core/types.ts");let NgmAgentService=class NgmAgentService{constructor(agents){this.agents=agents,this.error$=new Subject.B,this._error$=(0,merge.h)(...this.agents.map((agent=>agent.selectError())))}selectLocalAgentStatus(){const localAgent=this.agents.find((agent=>agent.type===src.Eoi.Local));if(!localAgent)throw new Error("Can't found Local Agent config");return localAgent?.selectStatus()??empty.w}error(err){this.error$.next(err)}selectError(){return this._error$}static#_=this.ctorParameters=()=>[{type:Array,decorators:[{type:core.Inject,args:[types.s2]}]}]};NgmAgentService=(0,tslib_es6.Cg)([(0,core.Injectable)(),(0,tslib_es6.Sn)("design:paramtypes",[Array])],NgmAgentService);let NgmDSCacheService=class NgmDSCacheService extends src.FMq{constructor(){super()}static#_=this.ctorParameters=()=>[]};NgmDSCacheService=(0,tslib_es6.Cg)([(0,core.Injectable)(),(0,tslib_es6.Sn)("design:paramtypes",[])],NgmDSCacheService);let NgmDSCoreService=class NgmDSCoreService extends src._R7{constructor(agents,models,dataSourceFactory,cacheService){super(agents,models,dataSourceFactory,cacheService),this.agents=agents,this.models=models,this.dataSourceFactory=dataSourceFactory}ngOnDestroy(){super.onDestroy()}static#_=this.ctorParameters=()=>[{type:Array,decorators:[{type:core.Inject,args:[types.s2]}]},{type:Array,decorators:[{type:core.Optional},{type:core.Inject,args:[types._l]}]},{type:Array,decorators:[{type:core.Optional},{type:core.Inject,args:[types.ox]}]},{type:NgmDSCacheService,decorators:[{type:core.Optional}]}]};NgmDSCoreService=(0,tslib_es6.Cg)([(0,core.Injectable)(),(0,tslib_es6.Sn)("design:paramtypes",[Array,Array,Array,NgmDSCacheService])],NgmDSCoreService)},"./packages/angular/core/directives/appearance.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>AppearanceDirective});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/coercion.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_material_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/material/fesm2022/core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js");const _NgmAppearanceBase=(0,_angular_material_core__WEBPACK_IMPORTED_MODULE_0__.Zc)(class{constructor(_elementRef){this._elementRef=_elementRef}});let AppearanceDirective=class AppearanceDirective extends _NgmAppearanceBase{get outline(){return"outline"===this.ngmAppearance}set outline(value){(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_1__.he)(value)&&(this.ngmAppearance="outline")}get hero(){return"hero"===this.ngmAppearance}set hero(value){(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_1__.he)(value)&&(this.ngmAppearance="hero")}get acrylic(){return"acrylic"===this.ngmAppearance}set acrylic(value){(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_1__.he)(value)&&(this.ngmAppearance="acrylic")}get opacity(){return"opacity"===this.ngmAppearance}set opacity(value){(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_1__.he)(value)&&(this.ngmAppearance="opacity")}get dashed(){return"dashed"===this.ngmAppearance}set dashed(value){(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_1__.he)(value)&&(this.ngmAppearance="dashed")}get danger(){return"danger"===this.ngmAppearance}set danger(value){(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_1__.he)(value)&&(this.ngmAppearance="danger")}constructor(elementRef){super(elementRef),this.ngmAppearance="filled",this._onFocus=new rxjs__WEBPACK_IMPORTED_MODULE_2__.B,this._hasFocus=!1}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}getLabel(){throw new Error("Method not implemented.")}static#_=this.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.ElementRef}];static#_2=this.propDecorators={ngmAppearance:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.Input}],outline:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.Input},{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.HostBinding,args:["class.ngm-appearance-outline"]}],hero:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.Input},{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.HostBinding,args:["class.ngm-appearance-hero"]}],acrylic:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.Input},{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.HostBinding,args:["class.ngm-appearance-acrylic"]}],opacity:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.Input},{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.HostBinding,args:["class.ngm-appearance-opacity"]}],dashed:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.Input},{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.HostBinding,args:["class.ngm-appearance-dashed"]}],danger:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.Input},{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.HostBinding,args:["class.ngm-appearance-danger"]}]}};AppearanceDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.Directive)({standalone:!0,selector:"[ngmAppearance]",inputs:["color"],host:{"(focus)":"focus()"}}),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:paramtypes",[_angular_core__WEBPACK_IMPORTED_MODULE_3__.ElementRef])],AppearanceDirective)},"./packages/angular/core/directives/button-group.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>ButtonGroupDirective});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let ButtonGroupDirective=class ButtonGroupDirective{};ButtonGroupDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive)({standalone:!0,selector:"[ngmButtonGroup]",host:{class:"ngm-button-group"}})],ButtonGroupDirective)},"./packages/angular/core/directives/displayDensity.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{WG:()=>NgmDensityDirective,X4:()=>DisplayDensity,sP:()=>DensityDirective});var DisplayDensity,tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");!function(DisplayDensity){DisplayDensity.comfortable="comfortable",DisplayDensity.cosy="cosy",DisplayDensity.compact="compact"}(DisplayDensity||(DisplayDensity={}));let DensityDirective=class DensityDirective{get densityCosy(){return this.displayDensity===DisplayDensity.comfortable}get densityCompact(){return this.displayDensity===DisplayDensity.compact}get densityComfortable(){return this.displayDensity===DisplayDensity.cosy}static#_=this.propDecorators={displayDensity:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],densityCosy:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,args:["class.ngm-density__comfortable"]}],densityCompact:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,args:["class.ngm-density__compact"]}],densityComfortable:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,args:["class.ngm-density__cosy"]}]}};DensityDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive)({standalone:!0,selector:"[displayDensity]"})],DensityDirective);let NgmDensityDirective=class NgmDensityDirective{constructor(){this.ngmDensity=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(null,{alias:"ngm-density"}),this.small=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(!1,{transform:_angular_core__WEBPACK_IMPORTED_MODULE_0__.booleanAttribute}),this.large=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(!1,{transform:_angular_core__WEBPACK_IMPORTED_MODULE_0__.booleanAttribute}),this.cosy=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>!this.ngmDensity()&&!this.small()&&!this.large()))}static#_=this.propDecorators={ngmDensity:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"ngm-density",required:!1,transform:void 0}]}],small:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"small",required:!1,transform:void 0}]}],large:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"large",required:!1,transform:void 0}]}]}};NgmDensityDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive)({standalone:!0,selector:"[ngmDensity],[ngm-density]",host:{"[class.ngm-density__cosy]":"cosy()","[class.ngm-density__compact]":"small()","[class.small]":"small()","[class.ngm-density__comfortable]":"large()","[class.large]":"large()","[class]":"ngmDensity()"}})],NgmDensityDirective)},"./packages/angular/core/i18n/missing-tanslation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{y:()=>NgmMissingTranslationHandler});class NgmMissingTranslationHandler{handle(params){return params.interpolateParams&&params.interpolateParams.Default||params.key}}},"./packages/angular/core/models/date-function.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c5:()=>NGM_DATE_VARIABLES,iI:()=>DateVariableEnum});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/core/src/index.ts"),date_fns__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/date-fns/subDays.mjs"),date_fns__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/date-fns/startOfWeek.mjs"),date_fns__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/date-fns/startOfMonth.mjs"),date_fns__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/date-fns/subMonths.mjs"),date_fns__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/date-fns/endOfMonth.mjs"),date_fns__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/date-fns/startOfQuarter.mjs"),date_fns__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/date-fns/endOfWeek.mjs"),date_fns__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/date-fns/endOfQuarter.mjs"),date_fns__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/date-fns/startOfYear.mjs"),date_fns__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/date-fns/endOfYear.mjs"),date_fns__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/date-fns/subYears.mjs");const NGM_DATE_VARIABLES=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Date Variables",{providedIn:"root",factory:function NX_DATE_VARIABLES_FACTORY(){return[{id:DateVariableEnum.SYSTEMTIME,name:"系统时间",deps:[],useFactory:()=>new Date},{id:DateVariableEnum.TODAY,name:"当前日期",deps:["SYSTEMTIME"],useFactory:([systemTime])=>systemTime,dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Standard,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:0,lookAhead:0}},{id:DateVariableEnum.YESTERDAY,name:"昨天",deps:["TODAY"],useFactory:([today])=>(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,1),dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Offset,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:0,lookAhead:0,current:{direction:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.TGZ.LookBack,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,amount:1}}},{id:DateVariableEnum.DBY,name:"前天",deps:["TODAY"],useFactory:([today])=>(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,2),dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Offset,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:0,lookAhead:0,current:{direction:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.TGZ.LookBack,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,amount:2}}},{id:DateVariableEnum.DAYS_7_AGO,name:"七天前",deps:["TODAY"],useFactory:([today])=>(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,7),dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Offset,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:0,lookAhead:0,current:{direction:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.TGZ.LookBack,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,amount:7}}},{id:DateVariableEnum.DAYS_8_AGO,name:"八天前",deps:["TODAY"],useFactory:([today])=>(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,8),dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Offset,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:0,lookAhead:0,current:{direction:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.TGZ.LookBack,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,amount:8}}},{id:DateVariableEnum.DAYS_14_AGO,name:"十四天前",deps:["TODAY"],useFactory:([today])=>(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,14),dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Offset,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:0,lookAhead:0,current:{direction:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.TGZ.LookBack,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,amount:14}}},{id:DateVariableEnum.DAYS_15_AGO,name:"十五天前",deps:["TODAY"],useFactory:([today])=>(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,15),dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Offset,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:0,lookAhead:0,current:{direction:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.TGZ.LookBack,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,amount:15}}},{id:DateVariableEnum.DAYS_30_AGO,name:"三十天前",deps:["TODAY"],useFactory:([today])=>(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,30),dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Offset,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:0,lookAhead:0,current:{direction:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.TGZ.LookBack,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,amount:30}}},{id:DateVariableEnum.DAYS_31_AGO,name:"三十一天前",deps:["TODAY"],useFactory:([today])=>(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,31),dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Offset,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:0,lookAhead:0,current:{direction:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.TGZ.LookBack,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,amount:31}}},{id:DateVariableEnum.RECENT_7_DAYS,name:"最近七天",deps:["TODAY"],useFactory:([today])=>[(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,7),today],dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Standard,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:7,lookAhead:0}},{id:DateVariableEnum.RECENT_14_DAYS,name:"最近十四天",deps:["TODAY"],useFactory:([today])=>[(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,14),today],dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Standard,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:14,lookAhead:0}},{id:DateVariableEnum.RECENT_30_DAYS,name:"最近三十天",deps:["TODAY"],useFactory:([today])=>[(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,30),today],dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Standard,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:30,lookAhead:0}},{id:DateVariableEnum.RECENT_90_DAYS,name:"最近九十天",deps:["TODAY"],useFactory:([today])=>[(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,90),today],dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Standard,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:90,lookAhead:0}},{id:DateVariableEnum.RECENT_180_DAYS,name:"最近一百八十天",deps:["TODAY"],useFactory:([today])=>[(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,180),today],dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Standard,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Day,lookBack:180,lookAhead:0}},{id:DateVariableEnum.THIS_WEEK,name:"本周",deps:["TODAY"],useFactory:([today])=>[(0,date_fns__WEBPACK_IMPORTED_MODULE_3__.k)(today,{weekStartsOn:1}),today]},{id:DateVariableEnum.THIS_MONTH,name:"本月",deps:["TODAY"],useFactory:([today])=>[(0,date_fns__WEBPACK_IMPORTED_MODULE_4__.w)(today),today],dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Standard,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Month,lookBack:0,lookAhead:0}},{id:DateVariableEnum.PREVIOUS_MONTH,name:"上月",deps:["TODAY"],useFactory:([today])=>{const start=(0,date_fns__WEBPACK_IMPORTED_MODULE_5__.a)(today,1);return[start,(0,date_fns__WEBPACK_IMPORTED_MODULE_6__.p)(start)]},dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Offset,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Month,lookBack:0,lookAhead:0,current:{direction:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.TGZ.LookBack,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Month,amount:1}}},{id:DateVariableEnum.THIS_QUARTER,name:"本季度",deps:["TODAY"],useFactory:([today])=>[(0,date_fns__WEBPACK_IMPORTED_MODULE_7__.a)(today),today],dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Standard,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Quarter,lookBack:0,lookAhead:0}},{id:DateVariableEnum.YEAR_TO_TODAY,name:"当前年至当天",deps:["TODAY"],useFactory:([today])=>[new Date(today.getFullYear(),0,1),today]},{id:DateVariableEnum.YEAR_TO_YESTERDAY,name:"当前年至昨天",deps:["TODAY"],useFactory:([today])=>[new Date(today.getFullYear(),0,1),(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.e)(today,1)]},{id:DateVariableEnum.THIS_WHOLE_WEEK,name:"本周(包含整周)",deps:["TODAY"],useFactory:([today])=>[(0,date_fns__WEBPACK_IMPORTED_MODULE_3__.k)(today,{weekStartsOn:1}),(0,date_fns__WEBPACK_IMPORTED_MODULE_8__.$)(today,{weekStartsOn:1})]},{id:DateVariableEnum.THIS_WHOLE_MONTH,name:"本月(包含整月)",deps:["TODAY"],useFactory:([today])=>[(0,date_fns__WEBPACK_IMPORTED_MODULE_4__.w)(today),(0,date_fns__WEBPACK_IMPORTED_MODULE_6__.p)(today)]},{id:DateVariableEnum.THIS_WHOLE_QUARTER,name:"本季度(包含整季度)",deps:["TODAY"],useFactory:([today])=>[(0,date_fns__WEBPACK_IMPORTED_MODULE_7__.a)(today),(0,date_fns__WEBPACK_IMPORTED_MODULE_9__.j)(today)]},{id:DateVariableEnum.THIS_WHOLE_YEAR,name:"今年(包含整年)",deps:["TODAY"],useFactory:([today])=>[(0,date_fns__WEBPACK_IMPORTED_MODULE_10__.D)(today),(0,date_fns__WEBPACK_IMPORTED_MODULE_11__.Q)(today)]},{id:DateVariableEnum.PREVIOUS_YEAR,name:"去年",deps:["TODAY"],useFactory:([today])=>{const lastYear=(0,date_fns__WEBPACK_IMPORTED_MODULE_12__.d)(today,1);return[(0,date_fns__WEBPACK_IMPORTED_MODULE_10__.D)(lastYear),(0,date_fns__WEBPACK_IMPORTED_MODULE_11__.Q)(lastYear)]},dateRange:{type:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.bJ0.Offset,granularity:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.iG7.Year,lookBack:0,lookAhead:0,current:{direction:_metad_ocap_core__WEBPACK_IMPORTED_MODULE_0__.TGZ.LookBack,amount:1}}}]}});var DateVariableEnum;!function(DateVariableEnum){DateVariableEnum.SYSTEMTIME="SYSTEMTIME",DateVariableEnum.TODAY="TODAY",DateVariableEnum.YESTERDAY="YESTERDAY",DateVariableEnum.DBY="DBY",DateVariableEnum.DAYS_7_AGO="DAYS_7_AGO",DateVariableEnum.DAYS_8_AGO="DAYS_8_AGO",DateVariableEnum.DAYS_14_AGO="DAYS_14_AGO",DateVariableEnum.DAYS_15_AGO="DAYS_15_AGO",DateVariableEnum.DAYS_30_AGO="DAYS_30_AGO",DateVariableEnum.DAYS_31_AGO="DAYS_31_AGO",DateVariableEnum.RECENT_7_DAYS="RECENT_7_DAYS",DateVariableEnum.RECENT_14_DAYS="RECENT_14_DAYS",DateVariableEnum.RECENT_30_DAYS="RECENT_30_DAYS",DateVariableEnum.RECENT_90_DAYS="RECENT_90_DAYS",DateVariableEnum.RECENT_180_DAYS="RECENT_180_DAYS",DateVariableEnum.THIS_WEEK="THIS_WEEK",DateVariableEnum.THIS_MONTH="THIS_MONTH",DateVariableEnum.PREVIOUS_MONTH="PREVIOUS_MONTH",DateVariableEnum.THIS_QUARTER="THIS_QUARTER",DateVariableEnum.THIS_WHOLE_WEEK="THIS_WHOLE_WEEK",DateVariableEnum.THIS_WHOLE_MONTH="THIS_WHOLE_MONTH",DateVariableEnum.THIS_WHOLE_QUARTER="THIS_WHOLE_QUARTER",DateVariableEnum.THIS_WHOLE_YEAR="THIS_WHOLE_YEAR",DateVariableEnum.YEAR_TO_TODAY="YEAR_TO_TODAY",DateVariableEnum.YEAR_TO_YESTERDAY="YEAR_TO_YESTERDAY",DateVariableEnum.PREVIOUS_YEAR="PREVIOUS_YEAR"}(DateVariableEnum||(DateVariableEnum={}))},"./packages/angular/core/services/core.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>NgmOcapCoreService});var tslib__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/empty.js"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),_models__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/angular/core/models/date-function.ts");let NgmOcapCoreService=class NgmOcapCoreService{constructor(){this.dateVariables=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_models__WEBPACK_IMPORTED_MODULE_1__.c5),this.#entityUpdateEvent$=new rxjs__WEBPACK_IMPORTED_MODULE_2__.B,this.#openCalculation=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.signal)((params=>rxjs__WEBPACK_IMPORTED_MODULE_3__.w))}#entityUpdateEvent$;#openCalculation;updateEntity(event){this.#entityUpdateEvent$.next(event)}onEntityUpdate(){return this.#entityUpdateEvent$.asObservable()}getDateVariables(){return this.dateVariables}execDateVariables(id){const dateVariable=this.dateVariables.find((item=>item.id===id));if(!dateVariable)try{return new Date(id)}catch(err){throw new Error(`Can't found date variable or date '${id}'`)}return dateVariable.useFactory(dateVariable.deps?.map((dep=>this.execDateVariables(dep))))}openCalculation(params){return(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.of)(params).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_5__.n)(this.#openCalculation()))}setCalculationHandler(handler){this.#openCalculation.set(handler)}};NgmOcapCoreService=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable)()],NgmOcapCoreService)},"./packages/angular/core/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Uw:()=>EntityCapacity,_l:()=>OCAP_MODEL_TOKEN,ox:()=>OCAP_DATASOURCE_TOKEN,s2:()=>OCAP_AGENT_TOKEN});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");const OCAP_AGENT_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("OCAP-Agent"),OCAP_MODEL_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("OCAP-Model"),OCAP_DATASOURCE_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("OCAP-DataSource");var EntityCapacity;!function(EntityCapacity){EntityCapacity.Dimension="Dimension",EntityCapacity.Hierarchy="Hierarchy",EntityCapacity.Measure="Measure",EntityCapacity.Indicator="Indicator",EntityCapacity.Calculation="Calculation",EntityCapacity.Parameter="Parameter"}(EntityCapacity||(EntityCapacity={}))}}]);